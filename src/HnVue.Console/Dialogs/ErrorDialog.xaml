<Window x:Class="HnVue.Console.Dialogs.ErrorDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Error"
        Width="500"
        Height="Auto"
        SizeToContent="Height"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        Background="{StaticResource CardBrush}">

    <Border Style="{StaticResource CardStyle}"
            BorderThickness="0"
            BorderBrush="{StaticResource ErrorBrush}">
        <Grid Margin="{StaticResource LargePadding}">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header with Icon -->
            <Grid Grid.Row="0" Margin="{StaticResource SmallBottomMargin}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Error Icon -->
                <Ellipse Grid.Column="0"
                         Width="40"
                         Height="40"
                         Fill="{StaticResource ErrorBrush}"
                         Margin="{StaticResource SmallRightMargin}"/>
                <TextBlock Grid.Column="0"
                           Text="!"
                           FontSize="24"
                           FontWeight="Bold"
                           Foreground="{StaticResource WhiteBrush}"
                           HorizontalAlignment="Center"
                           VerticalAlignment="Center"/>

                <!-- Title -->
                <TextBlock Grid.Column="1"
                           x:Name="TitleTextBlock"
                           Text="Error"
                           Style="{StaticResource TitleTextStyle}"
                           VerticalAlignment="Center"
                           Foreground="{StaticResource ErrorBrush}"/>
            </Grid>

            <!-- Message -->
            <ScrollViewer Grid.Row="1"
                          MaxHeight="300"
                          VerticalScrollBarVisibility="Auto">
                <TextBlock x:Name="MessageTextBlock"
                           Text="An error has occurred."
                           Style="{StaticResource BodyTextStyle}"
                           TextWrapping="Wrap"/>
            </ScrollViewer>

            <!-- Details (Optional) -->
            <Border Grid.Row="2"
                    x:Name="DetailsBorder"
                    Background="{StaticResource BackgroundBrush}"
                    BorderBrush="{StaticResource BorderBrush}"
                    BorderThickness="1"
                    CornerRadius="{StaticResource SmallCornerRadius}"
                    Margin="{StaticResource SmallTopMargin}"
                    Padding="{StaticResource SmallPadding}"
                    Visibility="Collapsed">
                <ScrollViewer MaxHeight="150"
                              VerticalScrollBarVisibility="Auto">
                    <TextBlock x:Name="DetailsTextBlock"
                               Text=""
                               Style="{StaticResource CaptionTextStyle}"
                               FontFamily="Consolas,Courier New"
                               TextWrapping="Wrap"/>
                </ScrollViewer>
            </Border>

            <!-- OK Button -->
            <Button Grid.Row="3"
                    Content="OK"
                    Style="{StaticResource PrimaryButtonStyle}"
                    Click="OnOkClick"
                    HorizontalAlignment="Right"
                    MinWidth="80"
                    Margin="{StaticResource SmallTopMargin}"/>
        </Grid>
    </Border>
</Window>
